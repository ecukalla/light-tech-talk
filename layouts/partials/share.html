<!-- layouts/partials/share.html -->
{{- $shareText := "" -}}
{{- if .Params.share_text -}}
  {{- $shareText = .Params.share_text -}}
{{- else if and .Summary (ne (trim .Summary " \t\n\r") "") -}}
  {{- $shareText = (plainify .Summary) | replaceRE "\\s+" " " | trim " \t\n\r" | truncate 200 -}}
{{- else -}}
  {{- $shareText = .Title -}}
{{- end -}}

<div class="post-share" role="contentinfo" aria-label="Share this post">
  <!-- X (Twitter) intent link with icon -->
  <a
    class="share-btn share-x"
    href="https://twitter.com/intent/tweet?url={{ .Permalink | urlquery }}&text={{ $shareText | urlquery }}"
    target="_blank"
    rel="noopener"
    aria-label="Share on X"
    style="display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:6px;font-weight:600;text-decoration:none;line-height:1;color:#fff;background:#0f1419;"
  >
    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true" focusable="false" style="display:block">
      <path fill="#ffffff" d="M18.244 2H21l-6.486 7.406L22.5 22h-6.91l-4.8-6.207L4.2 22H1.444l6.945-7.93L1 2h6.91l4.35 5.62L18.244 2Zm-2.418 18h2.043L7.278 4H5.233l10.593 16Z"/>
    </svg>
    <span>Share</span>
  </a>
</div>