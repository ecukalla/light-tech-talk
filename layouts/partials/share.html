<!-- layouts/partials/share.html -->
{{- $shareText := "" -}}
{{- if .Params.share_text -}}
  {{- $shareText = .Params.share_text -}}
{{- else if .Summary -}}
  {{- $shareText = (plainify .Summary) | replaceRE "\\s+" " " | trim " \t\n\r" | truncate 200 -}}
{{- else -}}
  {{- $shareText = .Title -}}
{{- end -}}

<div class="post-share" role="contentinfo" aria-label="Share this post">
  <!-- X (Twitter) intent link with icon -->
  <a
    class="share-btn share-x"
    href="https://twitter.com/intent/tweet?url={{ .Permalink | urlquery }}&text={{ $shareText | urlquery }}"
    target="_blank"
    rel="noopener"
    aria-label="Share on X"
    style="display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:6px;font-weight:600;text-decoration:none;line-height:1;color:#fff;background:#0f1419;"
  >
    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true" focusable="false" style="display:block">
      <path fill="#ffffff" d="M18.244 2H21l-6.486 7.406L22.5 22h-6.91l-4.8-6.207L4.2 22H1.444l6.945-7.93L1 2h6.91l4.35 5.62L18.244 2Zm-2.418 18h2.043L7.278 4H5.233l10.593 16Z"/>
    </svg>
    <span>Share</span>
  </a>

  <!-- Facebook share (no SDK). 'quote' adds an optional quoted snippet -->
  <a
    class="share-btn share-fb"
    href="https://www.facebook.com/sharer/sharer.php?u={{ .Permalink | urlquery }}&quote={{ $shareText | urlquery }}"
    target="_blank"
    rel="noopener"
    aria-label="Share on Facebook"
    style="display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:6px;font-weight:600;text-decoration:none;line-height:1;color:#fff;background:#1877f2;"
  >
    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true" focusable="false" style="display:block">
      <path fill="#ffffff" d="M22 12.06C22 6.51 17.52 2 12 2S2 6.51 2 12.06c0 5 3.66 9.15 8.44 9.94v-7.03H7.9v-2.91h2.54V9.85c0-2.5 1.49-3.88 3.77-3.88 1.09 0 2.23.2 2.23.2v2.46h-1.25c-1.23 0-1.61.77-1.61 1.56v1.87h2.74l-.44 2.91h-2.3V22c4.78-.79 8.44-4.94 8.44-9.94Z"/>
    </svg>
    <span>Share</span>
  </a>
</div>